---
import BlogPost from '../../components/BlogPost.astro';

export async function getStaticPaths() {
    const allPosts = await fetch('https://api.example.com/posts');
    const data = await allPosts.json();

    return data.map((post) => {
        return {
            params: { slug: post.slug },
            props: { post },
        };
    });
}

const { slug } = Astro.params;
const { post } = Astro.props;
---

<BlogPost post={post} />